<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <button class="buttons">rock</button>
    <button class="buttons">paper</button>
    <button class="buttons">scissors</button>
    <div id="roundResult"></div>
    <div id="score"></div>
    <script>

        let playerWins = 0;
        let computerWins = 0;
        function getComputerChoice() {
            const list = ['rock', 'paper', 'scissors'];
            return list[Math.floor(Math.random() * 3)]
        };

        function playRound(playerChoice, computerChoice) {
            let div = document.querySelector('#roundResult')
            if (playerChoice === computerChoice) {
                div.textContent = 'Round Tied!!';
            } else if (playerChoice === "rock" && computerChoice === "scissors") {
                div.textContent = 'Player Wins';
                playerWins++;
            } else if (playerChoice === 'paper' && computerChoice === 'rock') {
                div.textContent = 'Player Wins';
                playerWins++;
            } else if (playerChoice === 'scissors' && computerChoice === 'paper') {
                div.textContent = 'Player Wins';
                playerWins++;
            } else {
                div.textContent = 'Computer Wins';
                computerWins++;
            }
        };

        function disableButtons() {
            let btns = document.querySelectorAll('.buttons')
            for (let i = 0; i < btns.length; i++) {
                btns[i].disabled = true;
            }
        }

        let btns = document.querySelectorAll('.buttons')
        for (let i = 0; i < btns.length; i++) {
            btns[i].addEventListener('click', () => {
                playRound(btns[i].textContent, computerChoice = getComputerChoice());

                let div = document.querySelector('#score')
                div.textContent = `Computer: ${computerWins} , Player: ${playerWins}`

                if (computerWins >= 5) {
                    div.textContent = 'Match ended. Computer wins!!';
                    let roundResult = document.querySelector('#roundResult')
                    roundResult.textContent = '';
                    disableButtons()
                } else if (playerWins >= 5) {
                    div.textContent = 'Match ended. Player wins'
                    let roundResult = document.querySelector('#roundResult')
                    roundResult.textContent = '';
                    disableButtons()
                }
            }) 
        }
    </script>
</body>
</html>